<!DOCTYPE html>
<html>
<head>
    <title>WebSocket Test</title>
</head>
<body>
    <h1>WebSocket Test</h1>
    <button onclick="testWS()">Test WebSocket</button>
    <div id="output"></div>

    <script>
        function testWS() {
            const output = document.getElementById('output');
            output.innerHTML = 'Connecting...';
            
            try {
                const ws = new WebSocket('ws://localhost:3000/ws-test');
                
                ws.onopen = function() {
                    output.innerHTML += '<br>‚úÖ Connected!';
                };
                
                ws.onmessage = function(event) {
                    const data = JSON.parse(event.data);
                    output.innerHTML += '<br>üì® Received: ' + JSON.stringify(data);
                };
                
                ws.onerror = function(error) {
                    output.innerHTML += '<br>‚ùå Error: ' + error;
                };
                
                ws.onclose = function(event) {
                    output.innerHTML += '<br>üîå Closed: ' + event.code + ' ' + event.reason;
                };
                
            } catch (error) {
                output.innerHTML += '<br>‚ùå Failed to create WebSocket: ' + error;
            }
        }
    </script>
</body>
</html>
